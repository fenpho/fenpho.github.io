<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
Theme By Fenpho
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>前端作品集（二）移动端页面开发--携程网 | Fenpho</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Fenpho">
    <meta name="author" content="Fenpho">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Fenpho" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">首页</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">归档</a></li>
            <!-- Dropdown Menu -->
			 
            
        	<li>
        		<a class="sb-toggle-submenu">分类<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/前端漫谈/" class="animsition-link">前端漫谈<small>(22)</small></a></li>
				    
				</ul>
        	</li>
			
            
            <li>
                <a class="sb-toggle-submenu">友情链接<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="https://fenpho.github.io/" class="animsition-link">Fenpho</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about" class="animsition-link" title="about">关于</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">订阅</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Fenpho</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/fenpho" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">更多</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-12-16T02:16:37.000Z" itemprop="datePublished">
          2017-12-16
      </time>
    
    
    | 
    <a href='/tags/作品/'>作品</a>
    
    
</span>
                <h1>前端作品集（二）移动端页面开发--携程网</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<p>随着移动设备的普及的普及，人们越来越习惯使用移动设备来访问网页，所以学会如何开发移动端页面是一个前端必备的技能。</p>
<h3 id="一、页面的整体布局"><a href="#一、页面的整体布局" class="headerlink" title="一、页面的整体布局"></a>一、页面的整体布局</h3><p>先上图，做完后的效果如下图所示：<br><img src="1.png" alt="网站预览"><br>从图中很容易发现，整个页面有以下一部分组成：</p>
<ol>
<li>页头和页脚</li>
<li>轮播图，也就是banner，作为广告展示部分</li>
<li>整个网站的导航部分</li>
<li>携程的产品位</li>
<li>活动部分，分为特卖汇和热门活动两部分</li>
</ol>
<h3 id="二、HTML结构"><a href="#二、HTML结构" class="headerlink" title="二、HTML结构"></a>二、HTML结构</h3><h5 id="3-1-HTML整体结构"><a href="#3-1-HTML整体结构" class="headerlink" title="3-1. HTML整体结构"></a>3-1. HTML整体结构</h5><p>由于移动端对各种HTML5和CSS3的新特性的支持和好，所以可以采用HTML5的新标签属性内容，如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>携程在手·说走就走<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 头部 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- banner --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!-- 导航部分 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 产品 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;products&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 特卖汇 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;temaihui&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 热门活动 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;huodong&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span>	</span><br><span class="line">	<span class="comment">&lt;!-- 页脚 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意，由于是移动端的页面，所以需要加上视口标签，即<br><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</code><br>后面content跟的是一些具体属性，如设备宽度，缩放程度等，有兴趣的同学可以自己去了解下。</p>
<h5 id="3-2-详细的HTML书写"><a href="#3-2-详细的HTML书写" class="headerlink" title="3-2. 详细的HTML书写"></a>3-2. 详细的HTML书写</h5><p>头部由两个div构成，一个包裹input搜索框，一个作为用户中心</p>
<p>特卖汇部分采用了定义列表dl、dd、dt的展示方式</p>
<p>活动的头部统一采用h3包裹标题，div携带右边的图文</p>
<p>剩余的部分都是采用无序列表的形式展现ul、li，在li里面写具体的信息</p>
<p>网页的底部使用a标签包裹一些跳转链接</p>
<h3 id="三、CSS编写"><a href="#三、CSS编写" class="headerlink" title="三、CSS编写"></a>三、CSS编写</h3><p>使用了便于页面缩放的单位rem，作为编写单位，配合百分比布局实现整体框架布局，圆角部分是由border-radius实现的。当该属性的值为50%，就能显示一个圆，常用该特性做头像框。</p>
<p>头部，采用固定定位fixed的方式布局，user部分使用绝对定位，定位到页面的右上角，搜索宽的大盒子宽度为100%；使用padding-right流出右边user的位置，内部的input设为100%即可</p>
<p>剩下的部分，都是采用父盒子宽度为100%，子元素根据需求分配，如33%的导航部分，50%的活动部分</p>
<p>由于有的地方要加上边框和内边距，默认的盒模型是采用向外扩张的方式的，所以一旦加上边框或者内边距就会超过100%的宽度，变为上下两行排列，这不是我们需要的，故每一处用到的边框的标签，都要加上box-sizing为boder-box的声明，让实际分配宽度等于分配的百分比，让盒子内部留出边框和内边距的空间。</p>
<h3 id="四、移动端的轮播效果"><a href="#四、移动端的轮播效果" class="headerlink" title="四、移动端的轮播效果"></a>四、移动端的轮播效果</h3><p>移动端的轮播效果的触发是由触摸事件触发的，不同于PC端的点击事件，故要采用新的书写方式。</p>
<p>首先执行一个初始化函数，让轮播图的宽度等于设备的宽度</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">set</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//var windowWidth = document.documentElement.clientWidth;</span></span><br><span class="line">  <span class="keyword">var</span> windowWidth = <span class="built_in">document</span>.documentElement.clientWidth;</span><br><span class="line">  <span class="keyword">var</span> bannerWidth = <span class="built_in">parseInt</span>(getComputedStyle(banner)[<span class="string">&quot;width&quot;</span>]);</span><br><span class="line">  <span class="comment">//设置banner高度</span></span><br><span class="line">  banner.style.height = bannerWidth / (<span class="number">1242</span> / <span class="number">248</span>) + <span class="string">&quot;px&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//设计图540宽，540状态下的font-size我们自己设置了一个15px。</span></span><br><span class="line">  <span class="comment">//所以当前的字号就要按比例来：</span></span><br><span class="line">  <span class="comment">// document.documentElement.style.fontSize = 15 * (windowWidth / 540) + &quot;px&quot;;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着写事件监听函数，移动的触摸事件touch，有三部分组成，分别为touchstart，touchmove和touchend</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//事件监听</span></span><br><span class="line">banner.addEventListener(<span class="string">&quot;touchstart&quot;</span>,touchstartHandler,<span class="literal">false</span>);</span><br><span class="line">banner.addEventListener(<span class="string">&quot;touchmove&quot;</span>,touchmoveHandler,<span class="literal">false</span>);</span><br><span class="line">banner.addEventListener(<span class="string">&quot;touchend&quot;</span>,touchendHandler,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<p>移动端触摸，又分为点击和滑动两种，判断的依据就是滑动的距离和操作的时间戳（开始触摸时的时间减去结束触摸时的时间）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果你像右边滑动超过了屏幕的一半，或者你向右边滑动且时间小于500，就认为滑动成功</span></span><br><span class="line"><span class="keyword">if</span>(distance &gt;= windowWidth / <span class="number">2</span> || (distance &gt; <span class="number">30</span> &amp;&amp; time &lt; <span class="number">300</span>))</span><br></pre></td></tr></table></figure>

<p>然后根据具体的左右滑动做相应的处理即可。</p>
<h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h3><p>移动端页面的开发，能采用百分比布局的地方尽量采用百分比布局，如果一定要写单位，那么请用rem或者em（不推荐）为单位，便于使用@media时放大或缩小整个页面，还有，在开发移动端时，一些新的特性，能使用的就放心大胆的使用，如果实在不知道能不能用，可以访问该网站<a target="_blank" rel="noopener" href="http://caniuse.com/">can i use</a>.</p>
<p>最后，附上项目源码：<a target="_blank" rel="noopener" href="https://github.com/fenpho/resume/tree/master/works/ctrip">GitHub项目仓库 </a><br>项目预览：<a href="https://fenpho.github.io/resume/works/ctrip/">点击我</a></p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/2018/01/12/%E5%89%8D%E7%AB%AF%E4%BD%9C%E5%93%81%E9%9B%86%EF%BC%88%E4%B8%89%EF%BC%89%E5%B0%8F%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91-%E7%BD%91%E9%A1%B5%E7%89%882048/" style="float: left;">
        ← 前端作品集（三）小游戏开发--网页版2048
    </a>
    
    
    <a class="pull-right" href="/2017/11/26/%E5%89%8D%E7%AB%AF%E4%BD%9C%E5%93%81%E9%9B%86%EF%BC%88%E4%B8%80%EF%BC%89PC%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91-%E5%8D%9A%E9%9B%85%E4%BA%92%E5%8A%A8/">
        前端作品集（一）PC端页面开发--博雅互动 →
    </a>
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2017<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Fenpho. All Rights Reserved.
                </p>
                <p>Theme By <a href="#" style="color: #767D84">Fenpho</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/fenpho" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
